# JavaScript note 5

<br/>

## 목차

- [호출 스택과 이벤트루프](#call)

---

1. 호출 스택과 이벤트루프<a id="call"></a>

   ```javascript
   setInterval(tick, 2000);
   ```

   setInterval을 사용을 한다면 tick에 대한 정보를 어디에도 가지고 있지 않습니다. 호출스택에서 tick을 불렀으면 백그라운드에 tick, 2초마다를 등록하게 됩니다.<br/>백그라운드에는 여러가지 function들이 다음에 실행을 하기 위하여 대기하고 있습니다. 여기에서 태스크 큐에서는 백그라운드에서 콜백함수로 실행시킬 순서를 정해주는 것을 정하고 있습니다.<br/>여기에서 사용한 것이 이벤트루프인데, 호출스택에 이벤트가 진행이 되고있지 않으면 호출스택으로 태스크 큐에서 이벤트를 보내주는 역할을 합니다.<br/>또 다른 예를 아래와 같이 들어보겠습니다.

   ```javascript
   function a() {
     setInterval(b, 2000);
   }
   
   function b() {
     setTimeout(c, 3000);
   }
   
   function c() {
     hello();
   }
   
   a();
   ```

   처음에 a가 호출이 되면 setInterval이 호출이 됩니다. 그리하면 setInterval은 b를 2초마다 보내게 됩니다.<br/>그 다음 2초마다 b가 호출이 된다면 백그라운드에서 태스크 큐로 b가 전달이 됩니다. 이벤트 루프는 호출스택이 비어있기 때문에 전달된 b를 호출스택으로 올리게 됩니다.<br/>이렇게 호출스택에 b가 있기에 setTimeout이 실행이 되어 백그라운드에 c를 3초 후에로 보내게 됩니다. 또 다시 2초 후에 백그라운드에 b가 2초가 지났기 때문에(총 4초) 태스크 큐에 b가 올라갔고 이벤트 루프는 다시 호출스택으로 올리고 setInterval이 실행이 됩니다. 그리하여 백그라운드에 c가 5초 후에로 보내게 됩니다.<br/>c는 3초가 지났기 때문에 태스크 큐에 c가 들어가고 이벤트 루프는 호출스택으로 c를 올리게 됩니다. 그리하여 hello()가 실행이 됩니다.
